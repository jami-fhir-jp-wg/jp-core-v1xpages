@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://jpfhir.jp/fhir/core/StructureDefinition/jp-medicationsimplequantity> a fhir:StructureDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "jp-medicationsimplequantity"] ; # 
  fhir:text [
     fhir:status [ fhir:v "extensions" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\">Placeholder</div>"
  ] ; # 
  fhir:url [ fhir:v "http://jpfhir.jp/fhir/core/StructureDefinition/JP_MedicationSimpleQuantity"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "1.1.2"] ; # 
  fhir:name [ fhir:v "JP_MedicationSimpleQuantity"] ; # 
  fhir:title [ fhir:v "JP Core Medication Quantity DataType"] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:date [ fhir:v "2023-06-26"^^xsd:date] ; # 
  fhir:publisher [ fhir:v "FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "http://jpfhir.jp" ]
     ] [
       fhir:system [ fhir:v "email" ] ;
       fhir:value [ fhir:v "office@hlfhir.jp" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "このデータタイプはSimpleQuantity DataTypeに対して、JP Coreにおける薬剤量に関する定義を行なったものである"] ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "JP" ]
     ] )
  ] ) ; # 
  fhir:copyright [ fhir:v "Copyright FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI) 一般社団法人日本医療情報学会NeXEHRS課題研究会FHIR日本実装検討WG"] ; # 
  fhir:fhirVersion [ fhir:v "4.0.1"] ; # 
  fhir:mapping ( [
     fhir:identity [ fhir:v "v2" ] ;
     fhir:uri [ fhir:v "http://hl7.org/v2"^^xsd:anyURI ] ;
     fhir:name [ fhir:v "HL7 v2 Mapping" ]
  ] [
     fhir:identity [ fhir:v "rim" ] ;
     fhir:uri [ fhir:v "http://hl7.org/v3"^^xsd:anyURI ] ;
     fhir:name [ fhir:v "RIM Mapping" ]
  ] ) ; # 
  fhir:kind [ fhir:v "complex-type"] ; # 
  fhir:abstract [ fhir:v "false"^^xsd:boolean] ; # 
  fhir:type [ fhir:v "Quantity"^^xsd:anyURI] ; # 
  fhir:baseDefinition [
     fhir:v "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"^^xsd:anyURI ;
     fhir:link <http://hl7.org/fhir/StructureDefinition/SimpleQuantity>
  ] ; # 
  fhir:derivation [ fhir:v "constraint"] ; # 
  fhir:snapshot [
     fhir:element ( [
       fhir:id [ fhir:v "Quantity" ] ;
       fhir:path [ fhir:v "Quantity" ] ;
       fhir:short [ fhir:v "薬剤に関する数量と単位を定めた簡易データイプ" ] ;
       fhir:definition [ fhir:v "薬剤に関する数量と単位を定めた簡易データイプ" ] ;
       fhir:comment [ fhir:v "薬剤に関する簡易的な数量と単位を定めている。ValueおよびCodeを必須とし、comparatorは記述不可。単位についてはMERIT9医薬品単位略号の利用を推進している。(**SHOULD**)" ] ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "*" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "*" ]
       ] ;
       fhir:condition ( [ fhir:v "ele-1" ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] [
         fhir:key [ fhir:v "qty-3" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "ユニットのコードが存在する場合、システムも存在するものとします / If a code for the unit is present, the system SHALL also be present" ] ;
         fhir:expression [ fhir:v "code.empty() or system.exists()" ] ;
         fhir:xpath [ fhir:v "not(exists(f:code)) or exists(f:system)" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Quantity"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Quantity>
         ]
       ] [
         fhir:key [ fhir:v "sqty-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "コンパレータは、単純なQuantityで使用されません / The comparator is not used on a SimpleQuantity" ] ;
         fhir:expression [ fhir:v "comparator.empty()" ] ;
         fhir:xpath [ fhir:v "not(exists(f:comparator))" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/SimpleQuantity"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/SimpleQuantity>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "n/a" ]
       ] [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "SN (see also Range) or CQ" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "PQ, IVL<PQ>, MO, CO, depending on the values" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.id" ] ;
       fhir:path [ fhir:v "Quantity.id" ] ;
       fhir:representation ( [ fhir:v "xmlAttr" ] ) ;
       fhir:short [ fhir:v "要素間参照のための一意のID / Unique id for inter-element referencing" ] ;
       fhir:definition [ fhir:v "リソース内の要素の一意のID（内部参照用）。これは、スペースを含まない文字列値である場合があります。 / Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces." ] ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:base [
         fhir:path [ fhir:v "Element.id" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:extension ( [
           fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type"^^xsd:anyURI ] ;
           fhir:value [ fhir:v "string"^^xsd:anyURI ]
         ] ) ;
         fhir:code [ fhir:v "http://hl7.org/fhirpath/System.String"^^xsd:anyURI ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "false"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "n/a" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.extension" ] ;
       fhir:path [ fhir:v "Quantity.extension" ] ;
       fhir:slicing [
         fhir:discriminator ( [
           fhir:type [ fhir:v "value" ] ;
           fhir:path [ fhir:v "url" ]
         ] ) ;
         fhir:description [ fhir:v "Extensions are always sliced by (at least) url" ] ;
         fhir:rules [ fhir:v "open" ]
       ] ;
       fhir:short [ fhir:v "実装で定義された追加のコンテンツ / Additional content defined by implementations" ] ;
       fhir:definition [ fhir:v "要素の基本的な定義の一部ではない追加情報を表すために使用できます。拡張機能を安全で管理しやすくするために、拡張機能の定義と使用に適用される厳格なガバナンスセットがあります。実装者は拡張機能を定義できますが、拡張機能の定義の一部として満たされる一連の要件があります。 / May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension." ] ;
       fhir:comment [ fhir:v "拡張機能を使用または定義する機関や管轄権に関係なく、アプリケーション、プロジェクト、または標準による拡張機能の使用に関連するスティグマはありません。拡張機能の使用は、FHIR仕様がすべての人にコアレベルのシンプルさを保持できるようにするものです。 / There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone." ] ;
       fhir:alias ( [ fhir:v "extensions" ] [ fhir:v "user content" ] ) ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "*" ] ;
       fhir:base [
         fhir:path [ fhir:v "Element.extension" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "*" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "Extension"^^xsd:anyURI ]
       ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] [
         fhir:key [ fhir:v "ext-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "両方ではなく、拡張または値[x]が必要です / Must have either extensions or value[x], not both" ] ;
         fhir:expression [ fhir:v "extension.exists() != value.exists()" ] ;
         fhir:xpath [ fhir:v "exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Extension"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Extension>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "false"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "n/a" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.value" ] ;
       fhir:path [ fhir:v "Quantity.value" ] ;
       fhir:short [ fhir:v "（精度が暗示された）数値" ] ;
       fhir:definition [ fhir:v "計測された量。精度を含めた値が暗示される。" ] ;
       fhir:comment [ fhir:v "暗示された精度については常に尊重すべきである。貨幣計算では制度に関する独自のルールがある（会計についての標準的な教科書を参照すること）。" ] ;
       fhir:requirements [ fhir:v "精度は、測定のほとんどすべての場合に暗黙的に処理されます。 / Precision is handled implicitly in almost all cases of measurement." ] ;
       fhir:min [ fhir:v "1"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity.value" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "decimal"^^xsd:anyURI ]
       ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "true"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "SN.2  / CQ - N/A" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "PQ.value, CO.value, MO.value, IVL.high or IVL.low depending on the value" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.comparator" ] ;
       fhir:path [ fhir:v "Quantity.comparator" ] ;
       fhir:short [ fhir:v "<|<= |> = |>  - 価値を理解する方法 / < | <= | >= | > - how to understand the value" ] ;
       fhir:definition [ fhir:v "この文脈で使用することは許可されていません / Not allowed to be used in this context" ] ;
       fhir:requirements [ fhir:v "測定方法の制限があるため、値が<5ug/Lまたは> 400mg/Lの測定値を処理するためのフレームワークが必要です。 / Need a framework for handling measures where the value is <5ug/L or >400mg/L due to the limitations of measuring methodology." ] ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "0" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity.comparator" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "code"^^xsd:anyURI ]
       ] ) ;
       fhir:meaningWhenMissing [ fhir:v "コンパレータがない場合、値の変更はありません / If there is no comparator, then there is no modification of the value" ] ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "true"^^xsd:boolean ] ;
       fhir:isModifierReason [ fhir:v "これは、コンパレータが値の解釈を大幅に変更するため、「IS修飾子」とラベル付けされています。コンパレータがない場合、値の変更はありません / This is labeled as \"Is Modifier\" because the comparator modifies the interpretation of the value significantly. If there is no comparator, then there is no modification of the value" ] ;
       fhir:isSummary [ fhir:v "true"^^xsd:boolean ] ;
       fhir:binding [
         fhir:extension ( [
           fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName"^^xsd:anyURI ] ;
           fhir:value [ fhir:v "QuantityComparator" ]
         ] ) ;
         fhir:strength [ fhir:v "required" ] ;
         fhir:description [ fhir:v "量を理解し、表現する方法。 / How the Quantity should be understood and represented." ] ;
         fhir:valueSet [
           fhir:v "http://hl7.org/fhir/ValueSet/quantity-comparator|4.0.1"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/ValueSet/quantity-comparator|4.0.1>
         ]
       ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "SN.1  / CQ.1" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "IVL properties" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.unit" ] ;
       fhir:extension ( [
         fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable"^^xsd:anyURI ] ;
         fhir:value [ fhir:v "true"^^xsd:boolean ]
       ] ) ;
       fhir:path [ fhir:v "Quantity.unit" ] ;
       fhir:short [ fhir:v "単位表現" ] ;
       fhir:definition [ fhir:v "人間にも可読な単位表現" ] ;
       fhir:comment [ fhir:v "FHIRの文字列は1MB以上の大きさとなってなはらない(SHALL NOT)。" ] ;
       fhir:requirements [ fhir:v "コンテキストによってさまざまな単位の表現がある。固定された特定の表現が求められることがある。たとえば、mcgはmicrogramを表す。" ] ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity.unit" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "string"^^xsd:anyURI ]
       ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "true"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "(see OBX.6 etc.) / CQ.2" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "PQ.unit" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.system" ] ;
       fhir:path [ fhir:v "Quantity.system" ] ;
       fhir:short [ fhir:v "コード化された単位表現を規定するシステム" ] ;
       fhir:definition [ fhir:v "単位をコード化して表現するシステムについてのID。" ] ;
       fhir:comment [ fhir:v "以下参照。 http://en.wikipedia.org/wiki/Uniform_resource_identifier" ] ;
       fhir:requirements [ fhir:v "システムによって定義される単位のコードを把握しておく必要がある。" ] ;
       fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity.system" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "uri"^^xsd:anyURI ]
       ] ) ;
       fhir:condition ( [ fhir:v "qty-3" ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "true"^^xsd:boolean ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "(see OBX.6 etc.) / CQ.2" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "CO.codeSystem, PQ.translation.codeSystem" ]
       ] )
     ] [
       fhir:id [ fhir:v "Quantity.code" ] ;
       fhir:path [ fhir:v "Quantity.code" ] ;
       fhir:short [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨" ] ;
       fhir:definition [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨(**SHOULD**)" ] ;
       fhir:comment [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨(**SHOULD**)されるが、ローカルコード等を利用することも可能とする" ] ;
       fhir:requirements [ fhir:v "すべてのフォームに固定されたユニットの計算可能な形式が必要です。UCUMはこれを数量で提供しますが、Snomed CTは多くの関心のある単位を提供します。 / Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest." ] ;
       fhir:min [ fhir:v "1"^^xsd:nonNegativeInteger ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:base [
         fhir:path [ fhir:v "Quantity.code" ] ;
         fhir:min [ fhir:v "0"^^xsd:nonNegativeInteger ] ;
         fhir:max [ fhir:v "1" ]
       ] ;
       fhir:type ( [
         fhir:code [ fhir:v "code"^^xsd:anyURI ]
       ] ) ;
       fhir:constraint ( [
         fhir:key [ fhir:v "ele-1" ] ;
         fhir:severity [ fhir:v "error" ] ;
         fhir:human [ fhir:v "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children" ] ;
         fhir:expression [ fhir:v "hasValue() or (children().count() > id.count())" ] ;
         fhir:xpath [ fhir:v "@value|f:*|h:div" ] ;
         fhir:source [
           fhir:v "http://hl7.org/fhir/StructureDefinition/Element"^^xsd:anyURI ;
           fhir:link <http://hl7.org/fhir/StructureDefinition/Element>
         ]
       ] ) ;
       fhir:isModifier [ fhir:v "false"^^xsd:boolean ] ;
       fhir:isSummary [ fhir:v "true"^^xsd:boolean ] ;
       fhir:binding [
         fhir:strength [ fhir:v "preferred" ] ;
         fhir:valueSet [
           fhir:v "http://jpfhir.jp/fhir/core/ValueSet/JP_MedicationUnitMERIT9_VS"^^xsd:anyURI ;
           fhir:link <http://jpfhir.jp/fhir/core/ValueSet/JP_MedicationUnitMERIT9_VS>
         ]
       ] ;
       fhir:mapping ( [
         fhir:identity [ fhir:v "v2" ] ;
         fhir:map [ fhir:v "(see OBX.6 etc.) / CQ.2" ]
       ] [
         fhir:identity [ fhir:v "rim" ] ;
         fhir:map [ fhir:v "PQ.code, MO.currency, PQ.translation.code" ]
       ] )
     ] )
  ] ; # 
  fhir:differential [
     fhir:element ( [
       fhir:id [ fhir:v "Quantity" ] ;
       fhir:path [ fhir:v "Quantity" ] ;
       fhir:short [ fhir:v "薬剤に関する数量と単位を定めた簡易データイプ" ] ;
       fhir:definition [ fhir:v "薬剤に関する数量と単位を定めた簡易データイプ" ] ;
       fhir:comment [ fhir:v "薬剤に関する簡易的な数量と単位を定めている。ValueおよびCodeを必須とし、comparatorは記述不可。単位についてはMERIT9医薬品単位略号の利用を推進している。(**SHOULD**)" ]
     ] [
       fhir:id [ fhir:v "Quantity.value" ] ;
       fhir:path [ fhir:v "Quantity.value" ] ;
       fhir:short [ fhir:v "（精度が暗示された）数値" ] ;
       fhir:definition [ fhir:v "計測された量。精度を含めた値が暗示される。" ] ;
       fhir:comment [ fhir:v "暗示された精度については常に尊重すべきである。貨幣計算では制度に関する独自のルールがある（会計についての標準的な教科書を参照すること）。" ] ;
       fhir:min [ fhir:v "1"^^xsd:nonNegativeInteger ]
     ] [
       fhir:id [ fhir:v "Quantity.unit" ] ;
       fhir:path [ fhir:v "Quantity.unit" ] ;
       fhir:short [ fhir:v "単位表現" ] ;
       fhir:definition [ fhir:v "人間にも可読な単位表現" ] ;
       fhir:comment [ fhir:v "FHIRの文字列は1MB以上の大きさとなってなはらない(SHALL NOT)。" ] ;
       fhir:requirements [ fhir:v "コンテキストによってさまざまな単位の表現がある。固定された特定の表現が求められることがある。たとえば、mcgはmicrogramを表す。" ]
     ] [
       fhir:id [ fhir:v "Quantity.system" ] ;
       fhir:path [ fhir:v "Quantity.system" ] ;
       fhir:short [ fhir:v "コード化された単位表現を規定するシステム" ] ;
       fhir:definition [ fhir:v "単位をコード化して表現するシステムについてのID。" ] ;
       fhir:comment [ fhir:v "以下参照。 http://en.wikipedia.org/wiki/Uniform_resource_identifier" ] ;
       fhir:requirements [ fhir:v "システムによって定義される単位のコードを把握しておく必要がある。" ]
     ] [
       fhir:id [ fhir:v "Quantity.code" ] ;
       fhir:path [ fhir:v "Quantity.code" ] ;
       fhir:short [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨" ] ;
       fhir:definition [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨(**SHOULD**)" ] ;
       fhir:comment [ fhir:v "単位のコード化された形式、【JP Core仕様】MERIT9医薬品単位略号マスタコードを推奨(**SHOULD**)されるが、ローカルコード等を利用することも可能とする" ] ;
       fhir:min [ fhir:v "1"^^xsd:nonNegativeInteger ] ;
       fhir:binding [
         fhir:strength [ fhir:v "preferred" ] ;
         fhir:valueSet [
           fhir:v "http://jpfhir.jp/fhir/core/ValueSet/JP_MedicationUnitMERIT9_VS"^^xsd:anyURI ;
           fhir:link <http://jpfhir.jp/fhir/core/ValueSet/JP_MedicationUnitMERIT9_VS>
         ]
       ]
     ] )
  ] . # 

# -------------------------------------------------------------------------------------


<?xml version="1.0" encoding="UTF-8"?>

<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="jp-imagingstudy-radiology"/>
  <text>
    <status value="extensions"/><div xmlns="http://www.w3.org/1999/xhtml">Placeholder</div>
  </text>
  <url value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_ImagingStudy_Radiology"/>
  <version value="1.1.2-dev"/>
  <name value="JP_ImagingStudy_Radiology"/>
  <title value="JP Core ImagingStudy Radiology Profile"/>
  <status value="active"/>
  <date value="2023-06-26"/>
  <publisher value="FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)"/>
  <contact>
    <name value="FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)"/>
    <telecom>
      <system value="url"/>
      <value value="http://jpfhir.jp"/>
    </telecom>
    <telecom>
      <system value="email"/>
      <value value="office@hlfhir.jp"/>
    </telecom>
  </contact>
  <description value="このプロファイルはImagingStudyリソースに対して、放射線検査画像のデータを送受信するための制約と拡張を定めたものである。"/>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="JP"/>
    </coding>
  </jurisdiction>
  <copyright value="Copyright FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI) 一般社団法人日本医療情報学会NeXEHRS課題研究会FHIR日本実装検討WG"/>
  <fhirVersion value="4.0.1"/>
  <mapping>
    <identity value="workflow"/>
    <uri value="http://hl7.org/fhir/workflow"/>
    <name value="Workflow Pattern"/>
  </mapping>
  <mapping>
    <identity value="rim"/>
    <uri value="http://hl7.org/v3"/>
    <name value="RIM Mapping"/>
  </mapping>
  <mapping>
    <identity value="dicom"/>
    <uri value="http://nema.org/dicom"/>
    <name value="DICOM Tag Mapping"/>
  </mapping>
  <mapping>
    <identity value="w5"/>
    <uri value="http://hl7.org/fhir/fivews"/>
    <name value="FiveWs Pattern Mapping"/>
  </mapping>
  <mapping>
    <identity value="v2"/>
    <uri value="http://hl7.org/v2"/>
    <name value="HL7 v2 Mapping"/>
  </mapping>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="ImagingStudy"/>
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/ImagingStudy"/>
  <derivation value="constraint"/>
  <snapshot>
    <element id="ImagingStudy">
      <path value="ImagingStudy"/>
      <short value="DICOM画像検査で作成されたコンテンツの表現。スタディは一連のシリーズで構成され、各シリーズには、共通のコンテキストで取得または生成された一連のサービスオブジェクトペアインスタンス（SOPインスタンス-画像またはその他のデータ）が含まれる、シリーズは1つのモダリティ（X線、CT、MR、超音波など）のみだがスタディには複数の異なるモダリティのシリーズが含まれる場合がある"/>
      <definition value="DICOM画像研究で生成されたコンテンツの表現。 研究には、共通の文脈で収集または生成されたサービスオブジェクトペアインスタンス（SOPインスタンス - 画像またはその他のデータ）のセットで構成される一連のシリーズが含まれます。 シリーズは1つのモダリティのみ（X線、CT、MR、超音波など）、研究には複数の異なるモダリティのシリーズが含まれる場合があります。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <constraint>
        <key value="dom-2"/>
        <severity value="error"/>
        <human value="もしリソースが他のリソースに含まれている場合、そのリソースにはネストされたリソースを含めてはなりません (moshi risōsu ga hoka no risōsu ni fukumarete iru baai, sono risōsu ni wa nesuto sareta risōsu o fukumete wa narimasen)."/>
        <expression value="contained.contained.empty()"/>
        <xpath value="not(parent::f:contained and f:contained)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-3"/>
        <severity value="error"/>
        <human value="もしリソースが他のリソースに含まれている場合、それはリソースの他の場所から参照されるか、含まれるリソースに参照されるべきです。"/>
        <expression value="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()"/>
        <xpath value="not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-4"/>
        <severity value="error"/>
        <human value="もしリソースが別のリソースの中に含まれる場合、meta.versionIdまたはmeta.lastUpdatedを持つべきではありません。"/>
        <expression value="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <key value="dom-5"/>
        <severity value="error"/>
        <human value="「もしリソースが他のリソースに含まれている場合、セキュリティラベルを持つべきではありません。」"/>
        <expression value="contained.meta.security.empty()"/>
        <xpath value="not(exists(f:contained/*/f:meta/f:security))"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <constraint>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice">
          <valueBoolean value="true"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation">
          <valueMarkdown value="When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."/>
        </extension>
        <key value="dom-6"/>
        <severity value="warning"/>
        <human value="「資源は堅牢な管理のために物語を持つべきである。」"/>
        <expression value="text.`div`.exists()"/>
        <xpath value="exists(f:text/h:div)"/>
        <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Entity. Role, or Act"/>
      </mapping>
      <mapping>
        <identity value="workflow"/>
        <map value="Event"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="Act[classCode=COMPOSITION, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="Reference IHE radiology TF vol 2 table 4.14-1"/>
      </mapping>
    </element>
    <element id="ImagingStudy.id">
      <path value="ImagingStudy.id"/>
      <short value="このアーティファクトの論理ID"/>
      <definition value="「リソースのURLで使用される論理ID。一度割り当てられたら、この値は変更されません。」"/>
      <comment value="「リソースにIDがないのは、作成操作を使用してサーバーに送信されているときだけです。」"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="id"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.meta">
      <path value="ImagingStudy.meta"/>
      <short value="「リソースに関するメタデータ」"/>
      <definition value="リソースに関するメタデータ。これはインフラストラクチャによって維持されるコンテンツです。 コンテンツの変更は、リソースのバージョン変更と常に関連しているわけではありません。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.meta"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Meta"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.implicitRules">
      <path value="ImagingStudy.implicitRules"/>
      <short value="このコンテンツが作成されたルールセット"/>
      <definition value="「リソース構築時に遵守された一連のルールを指すものであり、コンテンツを処理する際に理解する必要があります。しばしば、特別なルールを定義する実装ガイドとその他のプロファイルなどを含むものです。」"/>
      <comment value="このルールセットを主張することで、取引先の限られた集団にしか内容を理解させることができず、長期的にはデータの有用性が制限されます。しかしながら、現存するヘルスエコシステムは高度に分断化しており、一般的に計算可能な形式でデータを定義、収集、交換する準備が整っていません。できる限り、実装者および/または仕様ライターはこの要素の使用を避けるべきです。使用する場合、URLは、そのナラティブとともに他のプロファイル、値セットなどを含む実装ガイドを定義する参照となります。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.implicitRules"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="uri"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it's meaning or interpretation"/>
      <isSummary value="true"/>
    </element>
    <element id="ImagingStudy.language">
      <path value="ImagingStudy.language"/>
      <short value="「リソースコンテンツの言語」(Risōsukontentsu no gengo)"/>
      <definition value="「リソースが書かれている基本言語。」"/>
      <comment value="言語はインデックスとアクセシビリティをサポートするために提供されます（通常、テキスト読み上げなどのサービスは言語タグを使用します）。物語のHTML言語タグは、物語に適用されます。リソース上の言語タグは、リソース内のデータから生成される他のプレゼンテーションの言語を指定するために使用できます。すべてのコンテンツが基本言語である必要はありません。Resource.languageは自動的に物語に適用されたと想定してはいけません。言語が指定されている場合、HTMLのdiv要素にも指定する必要があります（xml：langとhtml lang属性の関係に関する情報はHTML5の規則を参照）。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Resource.language"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-maxValueSet">
          <valueCanonical value="http://hl7.org/fhir/ValueSet/all-languages"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Language"/>
        </extension>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
          <valueBoolean value="true"/>
        </extension>
        <strength value="preferred"/>
        <description value="「人間の言語。」(Ningen no gengo.)"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/languages"/>
      </binding>
    </element>
    <element id="ImagingStudy.text">
      <path value="ImagingStudy.text"/>
      <short value="「人間の解釈のためのリソースのテキスト要約」"/>
      <definition value="「リソースの要約を含む人が読めるナビゲーションであり、リソースの内容を人に表現するために使用できます。ナビゲーションはすべての構造化されたデータをエンコードする必要はありませんが、人間がナビゲーションを読むだけで「臨床的に安全」であるために十分な詳細を含む必要があります。リソース定義には、臨床的な安全性を確保するためにナビゲーションで表現する必要があるコンテンツが定義される場合があります。」"/>
      <comment value="含まれるリソースには説明がありません。含まれないリソースには説明が必要です。場合によっては、リソースが少量のデータしか含まず、テキストだけで表現されることがあります（minOccurs = 1要素がすべて満たされている限り）。これは、情報が「テキストの塊」としてキャプチャされるレガシーシステムからのデータや、テキストが生またはナレーションされて符号化された情報が後で追加される場合に必要な場合があります。"/>
      <alias value="narrative"/>
      <alias value="html"/>
      <alias value="xhtml"/>
      <alias value="display"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="DomainResource.text"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Narrative"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="Act.text?"/>
      </mapping>
    </element>
    <element id="ImagingStudy.contained">
      <path value="ImagingStudy.contained"/>
      <short value="「含まれている、インラインのリソース」(Fukuma rete iru, inrain no risōsu)"/>
      <definition value="「これらのリソースは、それらを含むリソースから独立した存在を持ちません。それらは独立して識別することはできず、独自の独立したトランザクション範囲を持つこともできません。」"/>
      <comment value="「コンテンツが適切に識別できる場合には、これを行うべきではありません。識別が失われると、再び復元することは非常に困難であり（文脈に依存します）、メタ要素にプロファイルとタグを持つことができますが、セキュリティのラベルを持っていてはいけません。」"/>
      <alias value="inline resources"/>
      <alias value="anonymous resources"/>
      <alias value="contained resources"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.contained"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Resource"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.extension">
      <path value="ImagingStudy.extension"/>
      <short value="実装によって定義される追加コンテンツ"/>
      <definition value="「リソースの基本的な定義の一部ではない追加情報を表すために使用することができます。拡張機能の使用を安全かつ管理可能にするために、定義と使用の一定のガバナンスが適用されます。実装者はどんな拡張機能でも定義できますが、拡張機能の定義の一部として満たす必要がある要件があります」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.modifierExtension">
      <path value="ImagingStudy.modifierExtension"/>
      <short value="無視できない拡張機能 (Mushi dekinai kakuchou kinou)"/>
      <definition value="「リソースの基本的な定義に含まれない、要素の理解や、それを含む要素の子孫の理解を修正する追加情報を表すためにも使用されることがあります。通常、修飾要素は否定や修飾を提供します。拡張機能の使用を安全で管理しやすくするために、拡張機能の定義と使用に対して厳格な統治が適用されます。実装者は拡張機能を定義することが許可されていますが、拡張機能の定義の一部として満たす必要がある要件があります。リソースを処理するアプリケーションは、修飾子拡張をチェックする必要があります。修飾子拡張は、リソースまたはドメインリソースの任意の要素の意味を変更してはなりません（修飾子拡張自体の意味も変更できません）。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="DomainResource.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.identifier">
      <path value="ImagingStudy.identifier"/>
      <short value="スタディ全体の識別子"/>
      <definition value="DICOMスタディインスタンスUIDやアクセッション番号などのImagingStudyの識別子。"/>
      <comment value="DICOMスタディインスタンスUIDのエンコードについては、[Imaging Study Implementation Notes]（imagingstudy.html＃notes）の説明を参照。アクセッション番号はACSN識別子タイプを使用する必要がある。&#xD;&#xA;&#xD;&#xA;【JP-Core仕様】Study Instance UIDは画像が存在する場合に必須、その他は任意。StudyInstanceUID (0020,000D)"/>
      <requirements value="ImagingStudyに1つ以上のシリーズ要素が存在する場合、1つのDICOMスタディUID識別子が存在する必要がある（[DICOM PS 3.3 C.7.2]（https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html）を参照） 。"/>
      <alias value="StudyInstanceUID"/>
      <alias value="AccessionNumber"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.identifier"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Identifier"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.identifier"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.identifier"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".id and .inboundRelationship[typeCode=COMP].source[classCode=ACSN, moodCode=EVN].id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="StudyInstanceUID (0020,000D) | Accession Number and Issuer (0080,0050)+(0080,0051) | Study ID (0020,0010)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.status">
      <path value="ImagingStudy.status"/>
      <short value="&quot;登録済み | 利用可能 | 取消済み | エラーで入力 | 不明&quot; (Tōrokuzumi | Riyō kanō | Torikeshi zumi | Erā de nyūryoku | Fumei)"/>
      <definition value="ImagingStudyの現在のステータス"/>
      <comment value="不明(unknown)は「その他」を表すものではない。定義されたステータスの1つを適用する必要がある。不明(unknown)は、オーサリングシステムが現在のステータスを確認できない場合に使用される。&#xD;&#xA;&#xD;&#xA;【JP-Core仕様】リソースの状態。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.status"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="code"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="true"/>
      <isModifierReason value="This element is labelled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingStudyStatus"/>
        </extension>
        <strength value="required"/>
        <description value="「ImagingStudyの状態。」"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/imagingstudy-status|4.0.1"/>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.status"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.status"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="Varies by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".status"/>
      </mapping>
    </element>
    <element id="ImagingStudy.modality">
      <path value="ImagingStudy.modality"/>
      <short value="実際の取得モダリティーの場合、モダリティーの全シリーズ。対応するDICOM tag: (0008, 0061)"/>
      <definition value="実際の取得モダリティであるすべてのseries.modality値のリスト、つまりDICOMコンテキストグループ29（値セットOID 1.2.840.10008.6.1.19）の値。"/>
      <comment value="コードは、列挙型またはコードリストで、SNOMED CTなどの非常に正式な定義まで、非常にカジュアルに定義できる。詳細については、HL7v3コア原則を参照のこと。&#xD;&#xA;&#xD;&#xA;・モダリティのコードを設定。&#xD;&#xA;&#xD;&#xA;・Seriesの階層の(0008,0060)を集約する、または(0008,0060)　と　(0008, 0061) のOR。但し、重複する値は1つにまとめて表現。"/>
      <alias value="ModalitiesInStudy"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.modality"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingModality"/>
        </extension>
        <strength value="extensible"/>
        <description value="「インスタンスにおける取得データの種類。」"/>
        <valueSet value="http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html"/>
      </binding>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.class"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".code"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0061)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.subject">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-display-hint">
        <valueString value="dicom=http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.2.2.html"/>
      </extension>
      <path value="ImagingStudy.subject"/>
      <short value="検査対象者"/>
      <definition value="画像検査の対象、通常は患者。"/>
      <comment value="QAファントムはDeviceリソースとして記録できる。複数の被験者（マウスなど）の場合はGroupリソースで記録できる。&#xD;&#xA;&#xD;&#xA;・患者(Patient)リソースを参照。&#xD;&#xA;&#xD;&#xA;・DICOMタグ値を参照する場合は、tag mappingの通りグループ0010（患者情報に関連する情報を扱うグループ）を参照。&#xD;&#xA;&#xD;&#xA;・不明患者は、空もしくは不明を指すPatientリソースを参照。"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.subject"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.subject"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject[x]"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=SBJ].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0010/*)"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.subject"/>
      </mapping>
    </element>
    <element id="ImagingStudy.encounter">
      <path value="ImagingStudy.encounter"/>
      <short value="この画像検査が関連しているEncounterリソース"/>
      <definition value="このImagingStudyが行われるヘルスケアイベント（患者とヘルスケアプロバイダの相互作用など）。"/>
      <comment value="これは通常、イベントが発生したEncounterであるが、一部のイベントは、Encounterの正式な完了の前または後に開始される場合があり、それでもそのEncounterのコンテキストに関連付けられている（例：入院前の検査）&#xD;&#xA;&#xD;&#xA;受付を示すEncounterリソースを参照。&#xD;&#xA;（補足：訪問診療では医療者が患者と会った事を指す）"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.encounter"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Encounter"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.encounter"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.context"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="inboundRelationship[typeCode=COMP].source[classCode=ENC, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.started">
      <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-display-hint">
        <valueString value="dicom=http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html#sect_C.7.2.1"/>
      </extension>
      <path value="ImagingStudy.started"/>
      <short value="スタディの開始時期"/>
      <definition value="スタディの開始日時"/>
      <comment value="検査開始日時　もしくは　撮影装置へ患者情報が届いた/入力した日時。"/>
      <alias value="StudyDate"/>
      <alias value="StudyTime"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.started"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="dateTime"/>
      </type>
      <example>
        <label value="General"/>
        <valueDateTime value="2011-01-01T11:01:20+03:00"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.occurrence[x]"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.init"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".effectiveTime"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0020)+(0008,0030)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.basedOn">
      <path value="ImagingStudy.basedOn"/>
      <short value="実施された依頼"/>
      <definition value="この画像検査の実施につながった診断依頼のリスト。"/>
      <comment value="参照は、実在するFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的に使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;依頼元のServiceRequestを紐付ける。"/>
      <requirements value="グループ化された手技をサポートすること。（一つの画像検査に複数の種類の手技が含まれることがある。例：胸部/腹部/骨盤部 CT）"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.basedOn"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/CarePlan"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Appointment"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/AppointmentResponse"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Task"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.basedOn"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.cause"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=FLFS].target[classCode=DGIMG, moodCode=RQO]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0032,1064)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.referrer">
      <path value="ImagingStudy.referrer"/>
      <short value="依頼紹介医師"/>
      <definition value="依頼紹介医師"/>
      <comment value="参照は、実際のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;依頼医師。必須ではない（ServiceRequestから参照できるため）。"/>
      <alias value="ReferringPhysiciansName"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.referrer"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.cause"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=FLFS].target[classCode=DGIMG, moodCode=RQO].participation[typeCode=AUT].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0090)+(0008,0096)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.interpreter">
      <path value="ImagingStudy.interpreter"/>
      <short value="画像の読影者"/>
      <definition value="画像の読影者"/>
      <comment value="参照は、実際のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;読影医"/>
      <alias value="Name of Physician(s) Reading Study"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.interpreter"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.witness"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.endpoint">
      <path value="ImagingStudy.endpoint"/>
      <short value="スタディにアクセスするエンドポイント（画像へのURI）"/>
      <definition value="スタディへのアクセス（クエリ、表示、取得など）を提供するネットワークサービス。 DICOMエンドポイントの使用については、実装ノートを参照。スタディレベルのエンドポイントは、同じEndpoint.connectionTypeを持つシリーズレベルのエンドポイントによってオーバーライドされない限り、スタディの各シリーズに適用される。"/>
      <comment value="典型的なエンドポイントタイプには、RESTful APIを使用してネイティブまたはレンダリング（JPG、PNGなど）形式でDICOMインスタンスを取得するために使用されるDICOM WADO-RSが含まれる。 DICOM WADO-URI。HTTPクエリベースのアプローチを使用することを除いて、ネイティブインスタンスまたはレンダリングされたインスタンスを同様に取得できる。 DICOM QIDO-RS。実際のインスタンスを取得せずに、DICOM情報のRESTfulクエリを可能にする。またはIHEInvoke Image Display（IID）。これは、イメージングWebビューアの標準的な呼び出しを提供する。&#xD;&#xA;&#xD;&#xA;DICOMのリソース位置を指定。基本的には1つ。"/>
      <requirements value="スタディまたはスタディに含まれるシリーズやインスタンスを閲覧（例：IHE’s IID profile）したり、取得（例：DICOM’s WADO-URI and WADO-RS）したりするためのアクセス方法。スタディレベルのbaseLocationは、同じタイプのシリーズレベルのbaseLocationにてオーバーライドされない限り、スタディ内の各シリーズに適用される。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.endpoint"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Endpoint"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Not supported"/>
      </mapping>
    </element>
    <element id="ImagingStudy.numberOfSeries">
      <path value="ImagingStudy.numberOfSeries"/>
      <short value="スタディに含まれるシリーズ数"/>
      <definition value="調査のシリーズ数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれる一連の要素の数よりも大きい場合がある。系列要素が存在する場合、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;シリーズの数"/>
      <alias value="NumberOfStudyRelatedSeries"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.numberOfSeries"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=OBSSER, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1206)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.numberOfInstances">
      <path value="ImagingStudy.numberOfInstances"/>
      <short value="スタディ関連のインスタンス数"/>
      <definition value="スタディの中のSOPインスタンスの数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれるインスタンス要素の数よりも大きい場合がある。インスタンス要素が存在する場合は、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;イメージ（インスタンス）の数。"/>
      <alias value="NumberOfStudyRelatedInstances"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.numberOfInstances"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=DGIMG, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1208)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureReference">
      <path value="ImagingStudy.procedureReference"/>
      <short value="実施されたProcedure への参照"/>
      <definition value="このImagingStudyが含まれていたprocedure リソースへの参照。"/>
      <comment value="参照は、実在するFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;進捗状況に関するProcedureリソースを参照。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.procedureReference"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Procedure"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.partOf"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=PROC, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1032)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.procedureCode">
      <path value="ImagingStudy.procedureCode"/>
      <short value="実施されたProcedureのコード"/>
      <definition value="実施されたProcedureのタイプを表すコード。"/>
      <comment value="すべてのターミノロジの使用がこの一般的なパターンに適合するわけではない。場合によっては、モデルはCodeableConceptを使用せず、コーディングを直接使用して、テキスト、コーディング、翻訳、および要素間の関係と調整前後の関係を管理するための独自の構造を提供する必要がある。&#xD;&#xA;&#xD;&#xA;エラーコードなどを記載"/>
      <alias value="ProcedureCodeSequence"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.procedureCode"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <strength value="extensible"/>
        <description value="コードは http://playbook.radlex.org/playbook/SearchRadlexAction に該当があれば使わなければならない。ただし、実施された行為のタイプにこれらのコードがなじまない場合は他のコードが利用される可能性がある。"/>
        <valueSet value="http://playbook.radlex.org/playbook/SearchRadlexAction"/>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.code"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=PROC, moodCode=EVN]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1032)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.location">
      <path value="ImagingStudy.location"/>
      <short value="ImagingStudy が実施された場所"/>
      <definition value="ImagingStudyが実施された主要な物理的な場所。"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;撮影室を示すLocationリソースを参照。"/>
      <requirements value="イベントをレコードが保持される可能性が高い場所に結び付け、イベントの発生に関するコンテキストを提供する。 (たとえば、専用の医療環境の内外で発生した場合など。）"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.location"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Location"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.location"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.where[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.7"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=LOC].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1040) | (0040,0243)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.reasonCode">
      <path value="ImagingStudy.reasonCode"/>
      <short value="スタディが依頼された理由"/>
      <definition value="ImagingStudyが要求された理由を示す臨床状態の説明。"/>
      <comment value="すべてのターミノロジの使用がこの一般的なパターンに適合するわけではない。場合によっては、モデルはCodeableConceptを使用せず、コーディングを直接使用して、テキスト、コーディング、翻訳、および要素間の関係と調整前後の関係を管理するための独自の構造を提供する必要がある。&#xD;&#xA;&#xD;&#xA;JP Coreでは未使用"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.reasonCode"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingReason"/>
        </extension>
        <strength value="example"/>
        <description value="研究の理由。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/procedure-reason"/>
      </binding>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.reasonCode"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.why[x]"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".reasonCode"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0040,1002)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.reasonReference">
      <path value="ImagingStudy.reasonReference"/>
      <short value="スタディが実施された理由"/>
      <definition value="このスタディを正当化する別のリソースを示す。"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;実施理由が書かれたDiagnosticReportリソースを参照。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.reasonReference"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Condition"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_Common"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Media"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_DiagnosticReport_Common"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/DocumentReference"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.reasonReference"/>
      </mapping>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.why[x]"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.4 or by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=RSON].target"/>
      </mapping>
    </element>
    <element id="ImagingStudy.note">
      <path value="ImagingStudy.note"/>
      <short value="ユーザが定義したコメント"/>
      <definition value="推奨されるDICOMマッピングによると、この要素はスタディの説明属性（0008,1030）から派生している。画像検査に関する観察または所見は、この要素に記述するのではなく、Observationのような別のリソースに記録する必要がある。"/>
      <comment value="構造化された注釈（アノテーション）を持たないシステムの場合、作成者や時間なしで単一の注釈を簡単に伝達できる。情報を変更する可能性があるため、この要素をナラティブに含める必要がある場合がある。 &#xD;&#xA;*注釈は、計算機処理れきる「変更」情報を伝達するために使用されるべきではない*。 （ユーザの行動を強制することはほとんど不可能であるため、これはSHOULDとする）。&#xD;&#xA;&#xD;&#xA;コメント（Annotation型による記述）"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.note"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Annotation"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.note"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value="unknown"/>
      </mapping>
    </element>
    <element id="ImagingStudy.description">
      <path value="ImagingStudy.description"/>
      <short value="機関生成の記述"/>
      <definition value="スタディのイメージングマネージャの説明。実施されたスタディ（コンポーネント）の機関生成の説明または分類。"/>
      <comment value="FHIR文字列のサイズは1MBを超えてはならないことに注意。&#xD;&#xA;&#xD;&#xA;検査に関するフリーコメント。"/>
      <alias value="StudyDescription"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.description"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".text"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,1030)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series">
      <path value="ImagingStudy.series"/>
      <short value="個々のスタディはインスタンスの１以上のシリーズを有する"/>
      <definition value="個々のスタディは画像か他の内容の１以上のシリーズを有する。"/>
      <comment value="シリーズ（大まかな画像のグループ）"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=OBSSER, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.id">
      <path value="ImagingStudy.series.id"/>
      <representation value="xmlAttr"/>
      <short value="エレメント相互参照のためのユニークID"/>
      <definition value="リソース内の要素の固有ID（内部参照用）。これは、スペースを含まない任意の文字列値である可能性があります。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.extension">
      <path value="ImagingStudy.series.extension"/>
      <short value="実装によって定義される追加コンテンツ"/>
      <definition value="「要素の基本的な定義に含まれない追加情報を表すために使用されることがあります。拡張機能の使用を安全かつ管理しやすくするために、定義および使用に適用される厳格なガバナンスのセットがあります。実装者は拡張機能を定義できますが、拡張機能の定義の一部として満たす必要のある要件のセットがあります。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.modifierExtension">
      <path value="ImagingStudy.series.modifierExtension"/>
      <short value="「認識されなくても無視できない拡張機能」(Ninshiki sarenakutemo mushi dekinai kakuchou kinou)"/>
      <definition value="「基本的な要素の定義に含まれない追加情報を表すために使用されることがあり、それによって、その要素自体または取り込んでいる要素の子孫の理解を修正する。修飾子要素は通常、否定または修飾を提供します。拡張機能の安全で管理しやすい使用を実現するために、定義および使用に厳しいガバナンスセットが適用されています。どの実装者でも拡張機能を定義できますが、拡張機能の定義の一部として満たす必要がある要件があります。リソースを処理するアプリケーションは、修飾子拡張子をチェックする必要があります。&#xA;&#xA;修飾子拡張機能は、リソースまたはドメインリソースの任意の要素の意味を変更してはなりません（修飾子拡張自体の意味を変更することもできません）。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.uid">
      <path value="ImagingStudy.series.uid"/>
      <short value="そのシリーズに対するDICOM Series Instance UID"/>
      <definition value="そのシリーズに対するDICOM Series Instance UID"/>
      <comment value="[DICOM PS3.3 C.7.3]（https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html）を参照。&#xD;&#xA;&#xD;&#xA;study階層のidentifierと同じ概念。(0020,000E)にseries固有のUIDが付与される。"/>
      <requirements value="DICOM Series Instance UID."/>
      <alias value="SeriesInstanceUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.uid"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="id"/>
      </type>
      <example>
        <label value="General"/>
        <valueId value="2.16.124.113543.6003.2588828330.45298.17418.2723805630"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,000E)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.number">
      <path value="ImagingStudy.series.number"/>
      <short value="このシリーズの数値型識別子"/>
      <definition value="このシリーズの数値型識別子"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;上記UIDとは別に、ユーザ（または装置）が自由に決められる番号。"/>
      <alias value="SeriesNumber"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.number"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <example>
        <label value="General"/>
        <valueUnsignedInt value="3"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[type=COMP, source[classCode=COMPOSITION, moodCode=EVN]].sequenceNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0011)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.modality">
      <path value="ImagingStudy.series.modality"/>
      <short value="シリーズが取得されたモダリティ"/>
      <definition value="シリーズが取得されたモダリティー"/>
      <comment value="コードは、列挙型またはコードリストで、SNOMED CTなどの非常に正式な定義まで、非常に柔軟に定義できる。ただしJP CoreではSNOMED CTを推奨しない。詳細については、HL7v3コア原則を参照。&#xD;&#xA;&#xD;&#xA;当該シリーズのモダリティコード。1シリーズ1モダリティ（1つのシリーズの中に複数のモダリティが混在することはない）。&#xD;&#xA;&#xD;&#xA;（参照先）&#xD;&#xA;&#xD;&#xA;ftp://medical.nema.org/medical/dicom/resources/valuesets/fhir/json/CID_29.json&#xD;&#xA;&#xD;&#xA;https://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html"/>
      <alias value="Modality"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.modality"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="ImagingModality"/>
        </extension>
        <strength value="extensible"/>
        <description value="「インスタンスにおける取得データの種類。」"/>
        <valueSet value="http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".code"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.description">
      <path value="ImagingStudy.series.description"/>
      <short value="シリーズの人間可読な形式での短い要約記述"/>
      <definition value="シリーズの記述。"/>
      <comment value="FHIR文字列のサイズは1MBを超えてはならないことに注意。&#xD;&#xA;&#xD;&#xA;シリーズごとにつけられるフリーコメント。"/>
      <alias value="SeriesDescription"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.description"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <example>
        <label value="General"/>
        <valueString value="CT Surview 180"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".text"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,103E)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.numberOfInstances">
      <path value="ImagingStudy.series.numberOfInstances"/>
      <short value="&quot;シリーズ関連インスタンスの数&quot; (Shirīzu kanren insutansu no kazu)"/>
      <definition value="スタディの中のSOPインスタンスの数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれるインスタンス要素の数よりも大きい場合がある。インスタンス要素が存在する場合は、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;シリーズに含まれる画像枚数"/>
      <alias value="NumberOfSeriesRelatedInstances"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.numberOfInstances"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP, subsetCode=SUMM].target[classCode=DGIMG, moodCode=EVN].repeatNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,1209)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.endpoint">
      <path value="ImagingStudy.series.endpoint"/>
      <short value="シリーズにアクセスするエンドポイント（画像へのURI）"/>
      <definition value="シリーズへのアクセス（クエリ、表示、取得など）を提供するネットワークサービス。 DICOMエンドポイントの使用については、実装ノートを参照。シリーズレベルのエンドポイントは、同じEndpoint.connectionTypeを持つシリーズレベルのエンドポイントによってオーバーライドされない限り、スタディの各シリーズに適用される。"/>
      <comment value="典型的なエンドポイントタイプには、RESTful APIを使用してネイティブまたはレンダリング（JPG、PNGなど）形式でDICOMインスタンスを取得するために使用されるDICOM WADO-RSが含まれる。 DICOM WADO-URI。HTTPクエリベースのアプローチを使用することを除いて、ネイティブインスタンスまたはレンダリングされたインスタンスを同様に取得できる。 DICOM QIDO-RSは、実際のインスタンスを取得せずにDICOM情報のRESTfulクエリを可能にする。&#xD;&#xA;&#xD;&#xA;study階層のendpointと同じ。DICOMのリソース位置を指定。基本的には1つ。"/>
      <requirements value="Access methods for retrieving (e.g., DICOM’s WADO-URI and WADO-RS) the series or the series’ instances. A baseLocation specified at the series level has precedence over a baseLocation of the same type specified at the study level."/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.endpoint"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Endpoint"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Not supported"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.bodySite">
      <path value="ImagingStudy.series.bodySite"/>
      <short value="検査した人体部位"/>
      <definition value="検査対象の解剖学的構造。 &#xD;&#xA;bodySiteは、画像化された身体部分の左右差を示している場合がある。その場合、ImagingStudy.series.lateralityのコンテンツと一致している必要がある。"/>
      <comment value="コードは、列挙型またはコードリストで、どの部位の検査なのかを示す。フリーではなく、DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの小部位コードの利用を許容する。"/>
      <alias value="BodyPartExamined"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.bodySite"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="BodySite"/>
        </extension>
        <strength value="example"/>
        <description value="DICOM tagに設定されているコードをデフォルトとするが、JJ1017Pの小部位コードの利用を許容する。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/body-site"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".targetSiteCode"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0018,0015)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.laterality">
      <path value="ImagingStudy.series.laterality"/>
      <short value="人体部位の左右識別"/>
      <definition value="検査した（おそらく対になっている）解剖学的構造の左右識別。&#xD;&#xA;例：左膝、両方の肺、または対になっていない腹部。存在する場合は、ImagingStudy.series.bodySiteに示されている左右差情報と一致している必要がある。"/>
      <comment value="コードは、列挙型またはコードリストで、どの部位の検査なのかを示す。フリーではなく、DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの左右コードの利用を許容する。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.laterality"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Laterality"/>
        </extension>
        <strength value="example"/>
        <description value="DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの左右コードの利用を許容する。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/bodysite-laterality"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".targetSiteCode"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0060)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.specimen">
      <path value="ImagingStudy.series.specimen"/>
      <short value="画像検査をした検体"/>
      <definition value="例えば、生検のスライド全体の画像化のために画像化された標本。通常の放射線画像検査では使用されない。（DICOMを用いた病理画像検査で用いられる）"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】UIDは別のtagが存在するので、ユーザ側で自由に付与していい番号と思われる。"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.specimen"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Specimen"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="Role[classCode=SPEC]"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0040,0551) + (0040,0562)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.started">
      <path value="ImagingStudy.series.started"/>
      <short value="シリーズの開始時期"/>
      <definition value="シリーズの開始日付、日時。"/>
      <comment value="シリーズ単位での開始時刻。最初にシリーズを取得 or 定義した時刻。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.started"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="dateTime"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value=".effectiveTime"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0021) + (0008,0031)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer">
      <path value="ImagingStudy.series.performer"/>
      <short value="シリーズの実施者"/>
      <definition value="シリーズを実施し、関係した人を示す。"/>
      <comment value="シリーズを実施した人がわからない場合は、その組織が記録される場合がある。患者または関係者は、患者自身で取得した画像の場合など、パフォーマーである可能性がある。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】検査を実施した（画像を取得する操作を行った）人。&#xD;&#xA;&#xD;&#xA;　　(0008,1050)Performing Physician's Name&#xD;&#xA;&#xD;&#xA;　　(0008,1052)Performing Physician Identification Sequence&#xD;&#xA;&#xD;&#xA;　　(0008,1070)Operators' Name&#xD;&#xA;&#xD;&#xA;　　(0008,1072)Operator Identification Sequence"/>
      <requirements value="The performer is recorded at the series level, since each series in a study may be performed by a different performer, at different times, and using different devices. A series may be performed by multiple performers."/>
      <alias value="PerformingPhysicianName"/>
      <alias value="OperatorName"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.performer"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="workflow"/>
        <map value="Event.performer"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008, 1050) | (0008, 1052) | (0008, 1070) | (0008, 1072)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.id">
      <path value="ImagingStudy.series.performer.id"/>
      <representation value="xmlAttr"/>
      <short value="エレメント相互参照のためのユニークID"/>
      <definition value="リソース内の要素の固有ID（内部参照用）。これは、スペースを含まない任意の文字列値である可能性があります。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.extension">
      <path value="ImagingStudy.series.performer.extension"/>
      <short value="実装によって定義される追加コンテンツ"/>
      <definition value="「要素の基本的な定義に含まれない追加情報を表すために使用されることがあります。拡張機能の使用を安全かつ管理しやすくするために、定義および使用に適用される厳格なガバナンスのセットがあります。実装者は拡張機能を定義できますが、拡張機能の定義の一部として満たす必要のある要件のセットがあります。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.modifierExtension">
      <path value="ImagingStudy.series.performer.modifierExtension"/>
      <short value="「認識されなくても無視できない拡張機能」(Ninshiki sarenakutemo mushi dekinai kakuchou kinou)"/>
      <definition value="「基本的な要素の定義に含まれない追加情報を表すために使用されることがあり、それによって、その要素自体または取り込んでいる要素の子孫の理解を修正する。修飾子要素は通常、否定または修飾を提供します。拡張機能の安全で管理しやすい使用を実現するために、定義および使用に厳しいガバナンスセットが適用されています。どの実装者でも拡張機能を定義できますが、拡張機能の定義の一部として満たす必要がある要件があります。リソースを処理するアプリケーションは、修飾子拡張子をチェックする必要があります。&#xA;&#xA;修飾子拡張機能は、リソースまたはドメインリソースの任意の要素の意味を変更してはなりません（修飾子拡張自体の意味を変更することもできません）。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.function">
      <path value="ImagingStudy.series.performer.function"/>
      <short value="「パフォーマンスの種類」(Pafōmansu no shurui)"/>
      <definition value="&quot;俳優のシリーズへの参加のタイプを区別する。&quot;"/>
      <requirements value="Allows disambiguation of the types of involvement of different performers."/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.performer.function"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="CodeableConcept"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="EventPerformerFunction"/>
        </extension>
        <strength value="extensible"/>
        <description value="「パフォーマーの関与のタイプ」"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/series-performer-function"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.performer.actor">
      <path value="ImagingStudy.series.performer.actor"/>
      <short value="&quot;シリーズを演奏したのは誰ですか。&quot; (Shirīzu o ensō shita no wa dare desu ka.)"/>
      <definition value="「シリーズを行った人または物を示す。」"/>
      <comment value="【JP Core仕様】組織または撮影者"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.performer.actor"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/CareTeam"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="w5"/>
        <map value="FiveWs.actor"/>
      </mapping>
      <mapping>
        <identity value="v2"/>
        <map value="EVN.5 or by domain"/>
      </mapping>
      <mapping>
        <identity value="rim"/>
        <map value=".participation[typeCode=PRF].role[scoper.determinerCode=INSTANCE]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance">
      <path value="ImagingStudy.series.instance"/>
      <short value="シリーズからの単一SOPインスタンス"/>
      <definition value="ひとつの画像、またはプレゼンテーションの状態など、シリーズ内の単一のSOPインスタンス。"/>
      <comment value="インスタンス（画像）単位の情報"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="ImagingStudy.series.instance"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="BackboneElement"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".outboundRelationship[typeCode=COMP].target[classCode=DGIMG, moodCode=EVN]"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.id">
      <path value="ImagingStudy.series.instance.id"/>
      <representation value="xmlAttr"/>
      <short value="エレメント相互参照のためのユニークID"/>
      <definition value="リソース内の要素の固有ID（内部参照用）。これは、スペースを含まない任意の文字列値である可能性があります。"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="Element.id"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
          <valueUrl value="string"/>
        </extension>
        <code value="http://hl7.org/fhirpath/System.String"/>
      </type>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.extension">
      <path value="ImagingStudy.series.instance.extension"/>
      <short value="実装によって定義される追加コンテンツ"/>
      <definition value="「要素の基本的な定義に含まれない追加情報を表すために使用されることがあります。拡張機能の使用を安全かつ管理しやすくするために、定義および使用に適用される厳格なガバナンスのセットがあります。実装者は拡張機能を定義できますが、拡張機能の定義の一部として満たす必要のある要件のセットがあります。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="Element.extension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value="n/a"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.modifierExtension">
      <path value="ImagingStudy.series.instance.modifierExtension"/>
      <short value="「認識されなくても無視できない拡張機能」(Ninshiki sarenakutemo mushi dekinai kakuchou kinou)"/>
      <definition value="「基本的な要素の定義に含まれない追加情報を表すために使用されることがあり、それによって、その要素自体または取り込んでいる要素の子孫の理解を修正する。修飾子要素は通常、否定または修飾を提供します。拡張機能の安全で管理しやすい使用を実現するために、定義および使用に厳しいガバナンスセットが適用されています。どの実装者でも拡張機能を定義できますが、拡張機能の定義の一部として満たす必要がある要件があります。リソースを処理するアプリケーションは、修飾子拡張子をチェックする必要があります。&#xA;&#xA;修飾子拡張機能は、リソースまたはドメインリソースの任意の要素の意味を変更してはなりません（修飾子拡張自体の意味を変更することもできません）。」"/>
      <comment value="どのようなアプリケーション、プロジェクト、または標準が拡張機能を使用しているかに関わらず、拡張機能の使用には決して汚名が付くわけではありません - それらを使用または定義する機関または管轄区域に関係なく。拡張機能の使用こそが、FHIR仕様を誰にとっても簡単なコアレベルで維持することを可能にします。"/>
      <requirements value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](http://hl7.org/fhir/R4/extensibility.html#modifierExtension)."/>
      <alias value="extensions"/>
      <alias value="user content"/>
      <alias value="modifiers"/>
      <min value="0"/>
      <max value="*"/>
      <base>
        <path value="BackboneElement.modifierExtension"/>
        <min value="0"/>
        <max value="*"/>
      </base>
      <type>
        <code value="Extension"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <constraint>
        <key value="ext-1"/>
        <severity value="error"/>
        <human value="「拡張機能または値[x]のいずれかが必要です。両方ではありません。」"/>
        <expression value="extension.exists() != value.exists()"/>
        <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), &quot;value&quot;)])"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Extension"/>
      </constraint>
      <isModifier value="true"/>
      <isModifierReason value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
      <isSummary value="true"/>
      <mapping>
        <identity value="rim"/>
        <map value="N/A"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.uid">
      <path value="ImagingStudy.series.instance.uid"/>
      <short value="DICOM SOPインスタンスUID"/>
      <definition value="この画像または他のDICOMコンテンツのDICOM SOPインスタンスUID。"/>
      <comment value="[DICOM PS3.3 C.12.1](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html#sect_C.12.1)を参照。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】画像のユニークID。DICOMタグマッピングにある値をそのまま設定。"/>
      <requirements value="DICOM SOP Instance UID."/>
      <alias value="SOPInstanceUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.uid"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="id"/>
      </type>
      <example>
        <label value="General"/>
        <valueId value="2.16.124.113543.6003.189642796.63084.16748.2599092903"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".id"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0018)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.sopClass">
      <path value="ImagingStudy.series.instance.sopClass"/>
      <short value="DICOMクラスタイプ"/>
      <definition value="DICOMインスタンスのタイプ。"/>
      <comment value="【JP Core仕様】SOPクラスUID。DICOMタグマッピングにある値をそのまま設定。"/>
      <alias value="SOPClassUID"/>
      <min value="1"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.sopClass"/>
        <min value="1"/>
        <max value="1"/>
      </base>
      <type>
        <code value="Coding"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <mustSupport value="true"/>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="sopClass"/>
        </extension>
        <strength value="extensible"/>
        <description value="インスタンスのSOPクラス。"/>
        <valueSet value="http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_B.5.html#table_B.5-1"/>
      </binding>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[typeCode=COMP]. source[classCode=OBS, moodCode=EVN, code=&quot;sop class&quot;].value"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0016)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.number">
      <path value="ImagingStudy.series.instance.number"/>
      <short value="このシリーズにおけるこのインスタンスの番号"/>
      <definition value="シリーズ内のインスタンスの数。 (Shirīzu-nai no insutansu no kazu.)"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】ユーザ（または装置）が自由に決められる画像ごとの番号。DICOMタグマッピングにある値をそのまま設定。"/>
      <alias value="InstanceNumber"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.number"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="unsignedInt"/>
      </type>
      <example>
        <label value="General"/>
        <valueUnsignedInt value="1"/>
      </example>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".inboundRelationship[typeCode=COMP, source[classCode=OBSSER, moodCode=EVN]].sequenceNumber"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0020,0013)"/>
      </mapping>
    </element>
    <element id="ImagingStudy.series.instance.title">
      <path value="ImagingStudy.series.instance.title"/>
      <short value="インスタンスの記述"/>
      <definition value="インスタンスの記述"/>
      <comment value="【JP Core仕様】画像に対する説明。DICOMタグマッピングにある値があれば、そのまま設定&#xD;&#xA;&#xD;&#xA;　　(0008,0008)Image Type&#xD;&#xA;&#xD;&#xA;　　(0040,A043)Concept Name Code Sequence&#xD;&#xA;&#xD;&#xA;　　(0008,0104)Code Meaning&#xD;&#xA;&#xD;&#xA;　　(0042,0010)Document Title"/>
      <min value="0"/>
      <max value="1"/>
      <base>
        <path value="ImagingStudy.series.instance.title"/>
        <min value="0"/>
        <max value="1"/>
      </base>
      <type>
        <code value="string"/>
      </type>
      <constraint>
        <key value="ele-1"/>
        <severity value="error"/>
        <human value="すべてのFHIR要素は、@valueまたはchildrenを持っている必要があります。"/>
        <expression value="hasValue() or (children().count() &gt; id.count())"/>
        <xpath value="@value|f:*|h:div"/>
        <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
      </constraint>
      <isModifier value="false"/>
      <isSummary value="false"/>
      <mapping>
        <identity value="rim"/>
        <map value=".title"/>
      </mapping>
      <mapping>
        <identity value="dicom"/>
        <map value="(0008,0008) | (0007,0080) | (0040,A043) + (0008,0104) | (0042,0010)"/>
      </mapping>
    </element>
  </snapshot>
  <differential>
    <element id="ImagingStudy">
      <path value="ImagingStudy"/>
      <short value="DICOM画像検査で作成されたコンテンツの表現。スタディは一連のシリーズで構成され、各シリーズには、共通のコンテキストで取得または生成された一連のサービスオブジェクトペアインスタンス（SOPインスタンス-画像またはその他のデータ）が含まれる、シリーズは1つのモダリティ（X線、CT、MR、超音波など）のみだがスタディには複数の異なるモダリティのシリーズが含まれる場合がある"/>
    </element>
    <element id="ImagingStudy.identifier">
      <path value="ImagingStudy.identifier"/>
      <short value="スタディ全体の識別子"/>
      <definition value="DICOMスタディインスタンスUIDやアクセッション番号などのImagingStudyの識別子。"/>
      <comment value="DICOMスタディインスタンスUIDのエンコードについては、[Imaging Study Implementation Notes]（imagingstudy.html＃notes）の説明を参照。アクセッション番号はACSN識別子タイプを使用する必要がある。&#xD;&#xA;&#xD;&#xA;【JP-Core仕様】Study Instance UIDは画像が存在する場合に必須、その他は任意。StudyInstanceUID (0020,000D)"/>
      <requirements value="ImagingStudyに1つ以上のシリーズ要素が存在する場合、1つのDICOMスタディUID識別子が存在する必要がある（[DICOM PS 3.3 C.7.2]（https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html）を参照） 。"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.status">
      <path value="ImagingStudy.status"/>
      <definition value="ImagingStudyの現在のステータス"/>
      <comment value="不明(unknown)は「その他」を表すものではない。定義されたステータスの1つを適用する必要がある。不明(unknown)は、オーサリングシステムが現在のステータスを確認できない場合に使用される。&#xD;&#xA;&#xD;&#xA;【JP-Core仕様】リソースの状態。"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.modality">
      <path value="ImagingStudy.modality"/>
      <short value="実際の取得モダリティーの場合、モダリティーの全シリーズ。対応するDICOM tag: (0008, 0061)"/>
      <definition value="実際の取得モダリティであるすべてのseries.modality値のリスト、つまりDICOMコンテキストグループ29（値セットOID 1.2.840.10008.6.1.19）の値。"/>
      <comment value="コードは、列挙型またはコードリストで、SNOMED CTなどの非常に正式な定義まで、非常にカジュアルに定義できる。詳細については、HL7v3コア原則を参照のこと。&#xD;&#xA;&#xD;&#xA;・モダリティのコードを設定。&#xD;&#xA;&#xD;&#xA;・Seriesの階層の(0008,0060)を集約する、または(0008,0060)　と　(0008, 0061) のOR。但し、重複する値は1つにまとめて表現。"/>
    </element>
    <element id="ImagingStudy.subject">
      <path value="ImagingStudy.subject"/>
      <short value="検査対象者"/>
      <definition value="画像検査の対象、通常は患者。"/>
      <comment value="QAファントムはDeviceリソースとして記録できる。複数の被験者（マウスなど）の場合はGroupリソースで記録できる。&#xD;&#xA;&#xD;&#xA;・患者(Patient)リソースを参照。&#xD;&#xA;&#xD;&#xA;・DICOMタグ値を参照する場合は、tag mappingの通りグループ0010（患者情報に関連する情報を扱うグループ）を参照。&#xD;&#xA;&#xD;&#xA;・不明患者は、空もしくは不明を指すPatientリソースを参照。"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.encounter">
      <path value="ImagingStudy.encounter"/>
      <short value="この画像検査が関連しているEncounterリソース"/>
      <definition value="このImagingStudyが行われるヘルスケアイベント（患者とヘルスケアプロバイダの相互作用など）。"/>
      <comment value="これは通常、イベントが発生したEncounterであるが、一部のイベントは、Encounterの正式な完了の前または後に開始される場合があり、それでもそのEncounterのコンテキストに関連付けられている（例：入院前の検査）&#xD;&#xA;&#xD;&#xA;受付を示すEncounterリソースを参照。&#xD;&#xA;（補足：訪問診療では医療者が患者と会った事を指す）"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Encounter"/>
      </type>
    </element>
    <element id="ImagingStudy.started">
      <path value="ImagingStudy.started"/>
      <short value="スタディの開始時期"/>
      <definition value="スタディの開始日時"/>
      <comment value="検査開始日時　もしくは　撮影装置へ患者情報が届いた/入力した日時。"/>
    </element>
    <element id="ImagingStudy.basedOn">
      <path value="ImagingStudy.basedOn"/>
      <short value="実施された依頼"/>
      <definition value="この画像検査の実施につながった診断依頼のリスト。"/>
      <comment value="参照は、実在するFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的に使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;依頼元のServiceRequestを紐付ける。"/>
      <requirements value="グループ化された手技をサポートすること。（一つの画像検査に複数の種類の手技が含まれることがある。例：胸部/腹部/骨盤部 CT）"/>
    </element>
    <element id="ImagingStudy.referrer">
      <path value="ImagingStudy.referrer"/>
      <short value="依頼紹介医師"/>
      <definition value="依頼紹介医師"/>
      <comment value="参照は、実際のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;依頼医師。必須ではない（ServiceRequestから参照できるため）。"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
      </type>
    </element>
    <element id="ImagingStudy.interpreter">
      <path value="ImagingStudy.interpreter"/>
      <short value="画像の読影者"/>
      <definition value="画像の読影者"/>
      <comment value="参照は、実際のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;読影医"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
      </type>
    </element>
    <element id="ImagingStudy.endpoint">
      <path value="ImagingStudy.endpoint"/>
      <short value="スタディにアクセスするエンドポイント（画像へのURI）"/>
      <definition value="スタディへのアクセス（クエリ、表示、取得など）を提供するネットワークサービス。 DICOMエンドポイントの使用については、実装ノートを参照。スタディレベルのエンドポイントは、同じEndpoint.connectionTypeを持つシリーズレベルのエンドポイントによってオーバーライドされない限り、スタディの各シリーズに適用される。"/>
      <comment value="典型的なエンドポイントタイプには、RESTful APIを使用してネイティブまたはレンダリング（JPG、PNGなど）形式でDICOMインスタンスを取得するために使用されるDICOM WADO-RSが含まれる。 DICOM WADO-URI。HTTPクエリベースのアプローチを使用することを除いて、ネイティブインスタンスまたはレンダリングされたインスタンスを同様に取得できる。 DICOM QIDO-RS。実際のインスタンスを取得せずに、DICOM情報のRESTfulクエリを可能にする。またはIHEInvoke Image Display（IID）。これは、イメージングWebビューアの標準的な呼び出しを提供する。&#xD;&#xA;&#xD;&#xA;DICOMのリソース位置を指定。基本的には1つ。"/>
      <requirements value="スタディまたはスタディに含まれるシリーズやインスタンスを閲覧（例：IHE’s IID profile）したり、取得（例：DICOM’s WADO-URI and WADO-RS）したりするためのアクセス方法。スタディレベルのbaseLocationは、同じタイプのシリーズレベルのbaseLocationにてオーバーライドされない限り、スタディ内の各シリーズに適用される。"/>
    </element>
    <element id="ImagingStudy.numberOfSeries">
      <path value="ImagingStudy.numberOfSeries"/>
      <short value="スタディに含まれるシリーズ数"/>
      <definition value="調査のシリーズ数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれる一連の要素の数よりも大きい場合がある。系列要素が存在する場合、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;シリーズの数"/>
    </element>
    <element id="ImagingStudy.numberOfInstances">
      <path value="ImagingStudy.numberOfInstances"/>
      <short value="スタディ関連のインスタンス数"/>
      <definition value="スタディの中のSOPインスタンスの数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれるインスタンス要素の数よりも大きい場合がある。インスタンス要素が存在する場合は、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;イメージ（インスタンス）の数。"/>
    </element>
    <element id="ImagingStudy.procedureReference">
      <path value="ImagingStudy.procedureReference"/>
      <short value="実施されたProcedure への参照"/>
      <definition value="このImagingStudyが含まれていたprocedure リソースへの参照。"/>
      <comment value="参照は、実在するFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;進捗状況に関するProcedureリソースを参照。"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Procedure"/>
      </type>
    </element>
    <element id="ImagingStudy.procedureCode">
      <path value="ImagingStudy.procedureCode"/>
      <short value="実施されたProcedureのコード"/>
      <definition value="実施されたProcedureのタイプを表すコード。"/>
      <comment value="すべてのターミノロジの使用がこの一般的なパターンに適合するわけではない。場合によっては、モデルはCodeableConceptを使用せず、コーディングを直接使用して、テキスト、コーディング、翻訳、および要素間の関係と調整前後の関係を管理するための独自の構造を提供する必要がある。&#xD;&#xA;&#xD;&#xA;エラーコードなどを記載"/>
      <binding>
        <strength value="extensible"/>
        <description value="コードは http://playbook.radlex.org/playbook/SearchRadlexAction に該当があれば使わなければならない。ただし、実施された行為のタイプにこれらのコードがなじまない場合は他のコードが利用される可能性がある。"/>
        <valueSet value="http://playbook.radlex.org/playbook/SearchRadlexAction"/>
      </binding>
    </element>
    <element id="ImagingStudy.location">
      <path value="ImagingStudy.location"/>
      <short value="ImagingStudy が実施された場所"/>
      <definition value="ImagingStudyが実施された主要な物理的な場所。"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;撮影室を示すLocationリソースを参照。"/>
      <requirements value="イベントをレコードが保持される可能性が高い場所に結び付け、イベントの発生に関するコンテキストを提供する。 (たとえば、専用の医療環境の内外で発生した場合など。）"/>
    </element>
    <element id="ImagingStudy.reasonCode">
      <path value="ImagingStudy.reasonCode"/>
      <short value="スタディが依頼された理由"/>
      <definition value="ImagingStudyが要求された理由を示す臨床状態の説明。"/>
      <comment value="すべてのターミノロジの使用がこの一般的なパターンに適合するわけではない。場合によっては、モデルはCodeableConceptを使用せず、コーディングを直接使用して、テキスト、コーディング、翻訳、および要素間の関係と調整前後の関係を管理するための独自の構造を提供する必要がある。&#xD;&#xA;&#xD;&#xA;JP Coreでは未使用"/>
    </element>
    <element id="ImagingStudy.reasonReference">
      <path value="ImagingStudy.reasonReference"/>
      <short value="スタディが実施された理由"/>
      <definition value="このスタディを正当化する別のリソースを示す。"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;実施理由が書かれたDiagnosticReportリソースを参照。"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Condition"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_Common"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Media"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_DiagnosticReport_Common"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/DocumentReference"/>
      </type>
    </element>
    <element id="ImagingStudy.note">
      <path value="ImagingStudy.note"/>
      <short value="ユーザが定義したコメント"/>
      <definition value="推奨されるDICOMマッピングによると、この要素はスタディの説明属性（0008,1030）から派生している。画像検査に関する観察または所見は、この要素に記述するのではなく、Observationのような別のリソースに記録する必要がある。"/>
      <comment value="構造化された注釈（アノテーション）を持たないシステムの場合、作成者や時間なしで単一の注釈を簡単に伝達できる。情報を変更する可能性があるため、この要素をナラティブに含める必要がある場合がある。 &#xD;&#xA;*注釈は、計算機処理れきる「変更」情報を伝達するために使用されるべきではない*。 （ユーザの行動を強制することはほとんど不可能であるため、これはSHOULDとする）。&#xD;&#xA;&#xD;&#xA;コメント（Annotation型による記述）"/>
    </element>
    <element id="ImagingStudy.description">
      <path value="ImagingStudy.description"/>
      <short value="機関生成の記述"/>
      <definition value="スタディのイメージングマネージャの説明。実施されたスタディ（コンポーネント）の機関生成の説明または分類。"/>
      <comment value="FHIR文字列のサイズは1MBを超えてはならないことに注意。&#xD;&#xA;&#xD;&#xA;検査に関するフリーコメント。"/>
    </element>
    <element id="ImagingStudy.series">
      <path value="ImagingStudy.series"/>
      <short value="個々のスタディはインスタンスの１以上のシリーズを有する"/>
      <definition value="個々のスタディは画像か他の内容の１以上のシリーズを有する。"/>
      <comment value="シリーズ（大まかな画像のグループ）"/>
    </element>
    <element id="ImagingStudy.series.uid">
      <path value="ImagingStudy.series.uid"/>
      <short value="そのシリーズに対するDICOM Series Instance UID"/>
      <definition value="そのシリーズに対するDICOM Series Instance UID"/>
      <comment value="[DICOM PS3.3 C.7.3]（https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html）を参照。&#xD;&#xA;&#xD;&#xA;study階層のidentifierと同じ概念。(0020,000E)にseries固有のUIDが付与される。"/>
    </element>
    <element id="ImagingStudy.series.number">
      <path value="ImagingStudy.series.number"/>
      <short value="このシリーズの数値型識別子"/>
      <definition value="このシリーズの数値型識別子"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;上記UIDとは別に、ユーザ（または装置）が自由に決められる番号。"/>
    </element>
    <element id="ImagingStudy.series.modality">
      <path value="ImagingStudy.series.modality"/>
      <short value="シリーズが取得されたモダリティ"/>
      <definition value="シリーズが取得されたモダリティー"/>
      <comment value="コードは、列挙型またはコードリストで、SNOMED CTなどの非常に正式な定義まで、非常に柔軟に定義できる。ただしJP CoreではSNOMED CTを推奨しない。詳細については、HL7v3コア原則を参照。&#xD;&#xA;&#xD;&#xA;当該シリーズのモダリティコード。1シリーズ1モダリティ（1つのシリーズの中に複数のモダリティが混在することはない）。&#xD;&#xA;&#xD;&#xA;（参照先）&#xD;&#xA;&#xD;&#xA;ftp://medical.nema.org/medical/dicom/resources/valuesets/fhir/json/CID_29.json&#xD;&#xA;&#xD;&#xA;https://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.series.description">
      <path value="ImagingStudy.series.description"/>
      <short value="シリーズの人間可読な形式での短い要約記述"/>
      <definition value="シリーズの記述。"/>
      <comment value="FHIR文字列のサイズは1MBを超えてはならないことに注意。&#xD;&#xA;&#xD;&#xA;シリーズごとにつけられるフリーコメント。"/>
    </element>
    <element id="ImagingStudy.series.numberOfInstances">
      <path value="ImagingStudy.series.numberOfInstances"/>
      <definition value="スタディの中のSOPインスタンスの数。指定されたこの値は、リソースの可用性、セキュリティ、またはその他の要因により、このリソースに含まれるインスタンス要素の数よりも大きい場合がある。インスタンス要素が存在する場合は、この要素が存在する必要がある。"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;シリーズに含まれる画像枚数"/>
    </element>
    <element id="ImagingStudy.series.endpoint">
      <path value="ImagingStudy.series.endpoint"/>
      <short value="シリーズにアクセスするエンドポイント（画像へのURI）"/>
      <definition value="シリーズへのアクセス（クエリ、表示、取得など）を提供するネットワークサービス。 DICOMエンドポイントの使用については、実装ノートを参照。シリーズレベルのエンドポイントは、同じEndpoint.connectionTypeを持つシリーズレベルのエンドポイントによってオーバーライドされない限り、スタディの各シリーズに適用される。"/>
      <comment value="典型的なエンドポイントタイプには、RESTful APIを使用してネイティブまたはレンダリング（JPG、PNGなど）形式でDICOMインスタンスを取得するために使用されるDICOM WADO-RSが含まれる。 DICOM WADO-URI。HTTPクエリベースのアプローチを使用することを除いて、ネイティブインスタンスまたはレンダリングされたインスタンスを同様に取得できる。 DICOM QIDO-RSは、実際のインスタンスを取得せずにDICOM情報のRESTfulクエリを可能にする。&#xD;&#xA;&#xD;&#xA;study階層のendpointと同じ。DICOMのリソース位置を指定。基本的には1つ。"/>
    </element>
    <element id="ImagingStudy.series.bodySite">
      <path value="ImagingStudy.series.bodySite"/>
      <short value="検査した人体部位"/>
      <definition value="検査対象の解剖学的構造。 &#xD;&#xA;bodySiteは、画像化された身体部分の左右差を示している場合がある。その場合、ImagingStudy.series.lateralityのコンテンツと一致している必要がある。"/>
      <comment value="コードは、列挙型またはコードリストで、どの部位の検査なのかを示す。フリーではなく、DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの小部位コードの利用を許容する。"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="BodySite"/>
        </extension>
        <strength value="example"/>
        <description value="DICOM tagに設定されているコードをデフォルトとするが、JJ1017Pの小部位コードの利用を許容する。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/body-site"/>
      </binding>
    </element>
    <element id="ImagingStudy.series.laterality">
      <path value="ImagingStudy.series.laterality"/>
      <short value="人体部位の左右識別"/>
      <definition value="検査した（おそらく対になっている）解剖学的構造の左右識別。&#xD;&#xA;例：左膝、両方の肺、または対になっていない腹部。存在する場合は、ImagingStudy.series.bodySiteに示されている左右差情報と一致している必要がある。"/>
      <comment value="コードは、列挙型またはコードリストで、どの部位の検査なのかを示す。フリーではなく、DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの左右コードの利用を許容する。"/>
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="Laterality"/>
        </extension>
        <strength value="example"/>
        <description value="DICOM定義書の中で示される語句（コード）をデフォルトとするが、JJ1017Pの左右コードの利用を許容する。"/>
        <valueSet value="http://hl7.org/fhir/ValueSet/bodysite-laterality"/>
      </binding>
    </element>
    <element id="ImagingStudy.series.specimen">
      <path value="ImagingStudy.series.specimen"/>
      <short value="画像検査をした検体"/>
      <definition value="例えば、生検のスライド全体の画像化のために画像化された標本。通常の放射線画像検査では使用されない。（DICOMを用いた病理画像検査で用いられる）"/>
      <comment value="参照は、実在のFHIRリソースへの参照である必要があり、内容に辿り着ける（解決できる）必要がある（アクセス制御、一時的な使用不可などを考慮に入れる）。解決は、URLから取得するか、リソースタイプによって該当する場合は、絶対参照を正規URLとして扱い、ローカルレジストリ/リポジトリで検索することによって行うことができる。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】UIDは別のtagが存在するので、ユーザ側で自由に付与していい番号と思われる。"/>
    </element>
    <element id="ImagingStudy.series.started">
      <path value="ImagingStudy.series.started"/>
      <short value="シリーズの開始時期"/>
      <definition value="シリーズの開始日付、日時。"/>
      <comment value="シリーズ単位での開始時刻。最初にシリーズを取得 or 定義した時刻。"/>
    </element>
    <element id="ImagingStudy.series.performer">
      <path value="ImagingStudy.series.performer"/>
      <short value="シリーズの実施者"/>
      <definition value="シリーズを実施し、関係した人を示す。"/>
      <comment value="シリーズを実施した人がわからない場合は、その組織が記録される場合がある。患者または関係者は、患者自身で取得した画像の場合など、パフォーマーである可能性がある。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】検査を実施した（画像を取得する操作を行った）人。&#xD;&#xA;&#xD;&#xA;　　(0008,1050)Performing Physician's Name&#xD;&#xA;&#xD;&#xA;　　(0008,1052)Performing Physician Identification Sequence&#xD;&#xA;&#xD;&#xA;　　(0008,1070)Operators' Name&#xD;&#xA;&#xD;&#xA;　　(0008,1072)Operator Identification Sequence"/>
    </element>
    <element id="ImagingStudy.series.performer.actor">
      <path value="ImagingStudy.series.performer.actor"/>
      <comment value="【JP Core仕様】組織または撮影者"/>
      <type>
        <code value="Reference"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_PractitionerRole"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/CareTeam"/>
        <targetProfile value="http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.series.instance">
      <path value="ImagingStudy.series.instance"/>
      <short value="シリーズからの単一SOPインスタンス"/>
      <definition value="ひとつの画像、またはプレゼンテーションの状態など、シリーズ内の単一のSOPインスタンス。"/>
      <comment value="インスタンス（画像）単位の情報"/>
    </element>
    <element id="ImagingStudy.series.instance.uid">
      <path value="ImagingStudy.series.instance.uid"/>
      <comment value="[DICOM PS3.3 C.12.1](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html#sect_C.12.1)を参照。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】画像のユニークID。DICOMタグマッピングにある値をそのまま設定。"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.series.instance.sopClass">
      <path value="ImagingStudy.series.instance.sopClass"/>
      <comment value="【JP Core仕様】SOPクラスUID。DICOMタグマッピングにある値をそのまま設定。"/>
      <mustSupport value="true"/>
    </element>
    <element id="ImagingStudy.series.instance.number">
      <path value="ImagingStudy.series.instance.number"/>
      <comment value="32ビット数で表す。これより大きい値の場合は、10進数を使用する。&#xD;&#xA;&#xD;&#xA;【JP Core仕様】ユーザ（または装置）が自由に決められる画像ごとの番号。DICOMタグマッピングにある値をそのまま設定。"/>
    </element>
    <element id="ImagingStudy.series.instance.title">
      <path value="ImagingStudy.series.instance.title"/>
      <short value="インスタンスの記述"/>
      <definition value="インスタンスの記述"/>
      <comment value="【JP Core仕様】画像に対する説明。DICOMタグマッピングにある値があれば、そのまま設定&#xD;&#xA;&#xD;&#xA;　　(0008,0008)Image Type&#xD;&#xA;&#xD;&#xA;　　(0040,A043)Concept Name Code Sequence&#xD;&#xA;&#xD;&#xA;　　(0008,0104)Code Meaning&#xD;&#xA;&#xD;&#xA;　　(0042,0010)Document Title"/>
    </element>
  </differential>
</StructureDefinition>
<?xml version="1.0" encoding="UTF-8"?>

<SearchParameter xmlns="http://hl7.org/fhir">
  <id value="jp-patient-kanasort-sp"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p class="res-header-id"><b>Generated Narrative: SearchParameter jp-patient-kanasort-sp</b></p><a name="jp-patient-kanasort-sp"> </a><a name="hcjp-patient-kanasort-sp"> </a><a name="hcjp-patient-kanasort-sp-ja"> </a><h2>JP_Patient_KanaSort_SP</h2><p>Parameter <code>jp-kana-sort</code>:<code>string</code></p><div><p>Patientリソースをカナ名称でソートするための検索を定義する。検索に_sort=jp-kana-sortを指定すると、name.use=usualかつカナと指定されているname.text（フルネーム）を使ったソートを行う。</p>
</div><table class="grid"><tr><td>Resource</td><td><a href="http://hl7.org/fhir/R4/patient.html">Patient</a></td></tr><tr><td>Expression</td><td><code>Patient.name.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-representation').value.as(code)='SYL' and use='usual').text</code></td></tr><tr><td>Processing Mode</td><td>Normal</td></tr><tr><td>Multiples</td><td><ul><li>multipleAnd: The parameter may repeat in order to specify multiple values that must all be true</li><li>multipleOr: The parameter may have multiple values (separated by comma) where at least one must be true</li></ul></td></tr></table></div>
  </text>
  <url value="http://jpfhir.jp/fhir/core/SearchParameter/JP_Patient_KanaSort_SP"/>
  <version value="1.2.0-dev"/>
  <name value="JP_Patient_KanaSort_SP"/>
  <status value="active"/>
  <date value="2023-10-31"/>
  <publisher value="FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)"/>
  <contact>
    <name value="FHIR Japanese implementation research working group in Japan Association of Medical Informatics (JAMI)"/>
    <telecom>
      <system value="url"/>
      <value value="http://jpfhir.jp"/>
    </telecom>
    <telecom>
      <system value="email"/>
      <value value="office@hlfhir.jp"/>
    </telecom>
  </contact>
  <description value="Patientリソースをカナ名称でソートするための検索を定義する。検索に_sort=jp-kana-sortを指定すると、name.use=usualかつカナと指定されているname.text（フルネーム）を使ったソートを行う。"/>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="392"/>
      <display value="JPN"/>
    </coding>
  </jurisdiction>
  <code value="jp-kana-sort"/>
  <base value="Patient"/>
  <type value="string"/>
  <expression value="Patient.name.where(extension('http://hl7.org/fhir/StructureDefinition/iso21090-EN-representation').value.as(code)='SYL' and use='usual').text"/>
  <xpathUsage value="normal"/>
  <multipleOr value="true">
    <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
      <valueCode value="MAY"/>
    </extension>
  </multipleOr>
  <multipleAnd value="true">
    <extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
      <valueCode value="MAY"/>
    </extension>
  </multipleAnd>
</SearchParameter>